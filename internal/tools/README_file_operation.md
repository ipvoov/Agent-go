# File Operation Tool (Simplified)

这是一个简化的文件操作工具，只提供基本的文件操作功能，并且只能操作当前目录内的文件，确保安全性。

## 功能特性

- ✅ **基本文件操作**：读取、写入、创建、删除文件
- ✅ **安全限制**：只能操作当前目录内的文件
- ✅ **路径安全**：防止路径遍历攻击
- ✅ **简单易用**：精简的参数和操作

## 支持的操作

### 1. read - 读取文件
读取当前目录中指定文件的内容。

**参数**：
- `operation`: "read"
- `file_path`: 文件名或相对路径

**示例**：
```json
{"operation": "read", "file_path": "config.txt"}
{"operation": "read", "file_path": "data/info.json"}
```

### 2. write - 写入文件
向当前目录中的文件写入内容（覆盖原内容）。

**参数**：
- `operation`: "write"
- `file_path`: 文件名或相对路径
- `content`: 要写入的内容

**示例**：
```json
{"operation": "write", "file_path": "output.txt", "content": "Hello World"}
```

### 3. create - 创建文件
在当前目录中创建新文件并写入内容。如果文件已存在会报错。

**参数**：
- `operation`: "create"
- `file_path`: 新文件名或相对路径
- `content`: 文件内容

**示例**：
```json
{"operation": "create", "file_path": "newfile.txt", "content": "Initial content"}
```

### 4. delete - 删除文件
删除当前目录中的指定文件。

**参数**：
- `operation`: "delete"
- `file_path`: 要删除的文件名或相对路径

**示例**：
```json
{"operation": "delete", "file_path": "temp.txt"}
```

## 安全特性

1. **当前目录限制**：只能操作当前工作目录内的文件
2. **路径遍历防护**：禁止使用 `..` 等路径遍历字符
3. **绝对路径禁止**：不允许使用绝对路径
4. **目录操作限制**：不支持目录操作，只能操作文件

## 使用示例

### 通过 AI 助手使用

用户可以直接向 AI 助手发送请求：

- "帮我读取 config.txt 文件的内容"
- "创建一个新文件 hello.txt，内容是 'Hello World'"
- "将 'Updated data' 写入到 data.txt 文件"
- "删除 temp.txt 文件"

### 限制说明

1. **路径限制**：
   - ✅ 允许：`file.txt`, `data/info.json`
   - ❌ 禁止：`/etc/passwd`, `../config.txt`, `C:\Windows\system32\file.txt`

2. **操作限制**：
   - ✅ 支持：文件的读取、写入、创建、删除
   - ❌ 不支持：目录操作、文件复制、文件移动

3. **安全限制**：
   - 防止访问系统敏感文件
   - 防止路径遍历攻击
   - 只能在当前工作目录内操作

## 返回格式

工具返回简洁明了的操作结果：

- **读取操作**：返回文件内容
- **写入操作**：返回写入字节数和文件路径
- **创建操作**：返回创建成功信息和文件大小
- **删除操作**：返回删除成功确认

## 错误处理

工具提供清晰的错误信息：
- 文件不存在
- 文件已存在（创建时）
- 路径安全违规
- 权限不足
- 操作不支持

## 注意事项

1. **工作目录**：确保在正确的工作目录中运行
2. **文件权限**：确保有足够的文件读写权限
3. **相对路径**：使用相对路径，不要使用绝对路径
4. **备份重要数据**：删除操作不可逆，请谨慎使用